(()=>{"use strict";async function t(t,e){let a=await async function(t){return await browser.tabs.create(t)}(t);await async function(t,e){let a=async(n,i,o)=>{if(n===t&&o.status.includes("complete")){e.tabId=n;try{setTimeout((async()=>{await async function(t,e){await browser.tabs.sendMessage(t,e)}(n,e)}),1200),browser.tabs.onUpdated.removeListener(a)}catch(t){}}};browser.tabs.onUpdated.addListener(a)}(a.id,e)}browser.runtime.onMessage.addListener((async t=>{"watchTabonBeforeNavigate"===t.action&&await async function(t){let{tabId:e,title:a,text:n}=t,i=t=>{t.tabId===e&&(async function(t){let{title:e,text:a}=t;e=e||"youtube playlist download queue",a=a||"";let n=3;try{n=t.hasOwnProperty("timeout")?parseInt(String(t.timeout)):n}catch(t){n=3}await browser.notifications.create("cake-notification",{type:"basic",title:e,message:a,eventTime:1e3*n})}({title:a,text:n}),browser.webNavigation.onCompleted.removeListener(i))};browser.webNavigation.onCompleted.addListener(i)}(t)}));let e=browser.contextMenus.create({id:"menuIdabc",title:"save file to up-load.io",contexts:["link","image"]},null);browser.contextMenus.onClicked.addListener((async(a,n)=>{if(console.log("meslog info=\n",a),a.menuItemId===e){let e=a.linkUrl||a.srcUrl;await async function(e){let{downlink:a}=e;await t({url:"https://up-load.io/?op=upload_form",active:!1},{downlink:a})}({downlink:e})}}))})();